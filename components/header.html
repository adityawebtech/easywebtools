<!-- components/header.html -->
<header id="main-header" class="bg-white sticky top-0 z-50 transition-shadow duration-300">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center py-4">
    <!-- Logo -->
    <a href="/" class="flex items-center space-x-2">
      <img src="/assets/images/logo.svg" alt="Logo" class="h-8 w-auto">
      <span class="text-xl font-semibold text-blue-600">Toolswagon</span>
    </a>

    <!-- Desktop Nav -->
    <nav class="hidden md:flex items-center space-x-6">
      <a href="/" class="nav-link">
        <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" stroke-width="2"
             viewBox="0 0 24 24"><path d="M3 12l2-2m0 0l7-7 7 7M13 5v6h6"></path></svg>
        Home
      </a>

      <div class="relative group">
        <button class="flex items-center text-gray-700 hover:text-blue-600 transition">
          <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" stroke-width="2"
               viewBox="0 0 24 24"><path d="M9 5h6M9 12h6m-6 7h6"></path></svg>
          Tools
          <svg class="ml-1 w-4 h-4" fill="none" stroke="currentColor" stroke-width="2"
               viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7"></path></svg>
        </button>
        <div class="absolute hidden group-hover:block mt-2 w-48 bg-white border border-gray-200 rounded-md shadow-lg z-20">
          <a href="/tools" class="dropdown-link">
            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" stroke-width="2"
                 viewBox="0 0 24 24"><path d="M16 7a4 4 0 00-8 0v4a4 4 0 008 0V7zM12 15v2m-3 4h6"></path></svg>
            Our Tools
          </a>
          <a href="/report-bug" class="dropdown-link">
            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" stroke-width="2"
                 viewBox="0 0 24 24"><path d="M9.75 9a3.75 3.75 0 014.5 0M3 13h18M4 17h16"></path></svg>
            Report Bug
          </a>
          <a href="/contact" class="dropdown-link">
            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" stroke-width="2"
                 viewBox="0 0 24 24"><path d="M21 10a9 9 0 11-18 0 9 9 0 0118 0z"></path><path d="M15 9h.01M9 9h.01M8 13h8"></path></svg>
            Contact Us
          </a>
        </div>
      </div>
    </nav>

    <!-- Icons -->
    <div class="flex items-center space-x-4 md:space-x-2">
      <!-- Search Icon -->
      <button id="search-toggle" class="text-gray-700 focus:outline-none">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2"
             viewBox="0 0 24 24"><path d="M21 21l-4.35-4.35M10 18a8 8 0 100-16 8 8 0 000 16z"/></svg>
      </button>

      <!-- Mobile Toggle -->
      <button id="mobile-menu-toggle" class="md:hidden text-gray-700 focus:outline-none">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2"
             viewBox="0 0 24 24"><path d="M4 6h16M4 12h16M4 18h16"></path></svg>
      </button>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div id="mobile-menu" class="md:hidden max-h-0 overflow-hidden transition-all duration-300 bg-white border-t border-gray-200 px-4 space-y-2">
    <a href="/" class="nav-link">Home</a>
    <div class="text-gray-700 font-medium mt-2">Tools</div>
    <div class="ml-6 space-y-1">
      <a href="/tools" class="dropdown-link">Our Tools</a>
      <a href="/report-bug" class="dropdown-link">Report Bug</a>
      <a href="/contact" class="dropdown-link">Contact Us</a>
    </div>
  </div>

  <!-- Fullscreen Search Overlay -->
  <div id="search-overlay" class="fixed inset-0 bg-white bg-opacity-95 z-50 hidden flex items-center justify-center">
    <div class="w-full max-w-xl px-4">
      <div class="relative">
        <input type="text" placeholder="Search tools..." class="w-full border border-gray-300 rounded-lg px-4 py-3 text-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
        <button id="search-close" class="absolute right-4 top-3 text-gray-500 hover:text-red-500">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2"
               viewBox="0 0 24 24"><path d="M6 18L18 6M6 6l12 12"/></svg>
        </button>
      </div>
    </div>
  </div>
</header>

<script>
  // Mobile menu toggle
  const toggle = document.getElementById('mobile-menu-toggle');
  const menu = document.getElementById('mobile-menu');
  toggle.addEventListener('click', () => {
    menu.classList.toggle('max-h-0');
    menu.classList.toggle('max-h-[300px]');
  });

  // Sticky shadow
  const header = document.getElementById('main-header');
  window.addEventListener('scroll', () => {
    header.classList.toggle('shadow-lg', window.scrollY > 20);
  });

  // Active link
  const links = document.querySelectorAll('.nav-link, .dropdown-link');
  links.forEach(link => {
    if (link.getAttribute('href') === window.location.pathname) {
      link.classList.add('text-blue-600', 'font-semibold');
    }
  });

  // Search overlay
  const searchToggle = document.getElementById('search-toggle');
  const searchOverlay = document.getElementById('search-overlay');
  const searchClose = document.getElementById('search-close');

  searchToggle.addEventListener('click', () => {
    searchOverlay.classList.remove('hidden');
  });

  searchClose.addEventListener('click', () => {
    searchOverlay.classList.add('hidden');
  });

  window.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      searchOverlay.classList.add('hidden');
    }
  });
</script>

<style>
  .nav-link, .dropdown-link {
    display: flex;
    align-items: center;
    color: #4B5563;
    padding: 0.5rem 0;
    transition: color 0.3s;
  }
  .nav-link:hover, .dropdown-link:hover {
    color: #2563EB;
  }
</style>
