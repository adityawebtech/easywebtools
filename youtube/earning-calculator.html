<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>YouTube Earnings Calculator</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-900">
  <!-- Header -->
  <header class="bg-blue-600 text-white p-4 text-center text-2xl font-bold shadow">
    YouTube Earnings Calculator
  </header>  <!-- Alert Box -->  <div class="border border-black p-3 bg-white max-w-xl mx-auto mt-6 rounded">
    <p class="text-blue-600 font-medium">Check whether your YouTube channel is mentioned or not?</p>
  </div>  <!-- Input Form -->  <div class="max-w-3xl mx-auto mt-8 p-4 bg-white shadow rounded">
    <form id="calculatorForm" class="grid gap-4">
      <input type="text" id="channelId" class="border p-2 rounded" placeholder="Enter YouTube Channel ID (UC...)" />
      <input type="number" id="viewsPerDay" class="border p-2 rounded" placeholder="Daily Views (optional)" />
      <input type="number" id="engagementRate" step="0.1" class="border p-2 rounded" placeholder="Engagement Rate % (optional)" />
      <select id="cpmCategory" class="border p-2 rounded">
        <option value="3.47">Film & Animation ($3.47 RPM)</option>
        <option value="11.44">Science & Tech ($11.44 RPM)</option>
        <option value="9.9">Autos & Vehicles ($9.90 RPM)</option>
        <option value="5.5">People & Blogs ($5.50 RPM)</option>
        <option value="4.57">News & Politics ($4.57 RPM)</option>
        <!-- Add more as needed -->
      </select>
      <button type="submit" class="bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">Calculate</button>
    </form>
  </div>  <!-- Result Section -->  <div id="resultSection" class="max-w-4xl mx-auto mt-10 bg-white p-6 rounded shadow hidden">
    <h2 class="text-xl font-bold mb-4">Earnings Overview</h2>
    <div class="grid md:grid-cols-2 gap-6">
      <div>
        <img id="channelThumb" class="rounded w-24 h-24" />
        <p class="font-semibold" id="channelName"></p>
        <p>Total Views: <span id="totalViews"></span></p>
        <p>Subscribers: <span id="subs"></span></p>
        <p>Videos: <span id="videos"></span></p>
        <p>Country: <span id="country"></span></p>
      </div>
      <div>
        <p>Est. Revenue Range: <span id="revRange"></span></p>
        <p>Average Earnings: <span id="avgEarning"></span></p>
        <p>Daily: <span id="dailyEarning"></span></p>
        <p>Monthly: <span id="monthlyEarning"></span></p>
        <p>Yearly: <span id="yearlyEarning"></span></p>
        <p>Views/month: <span id="monthlyViews"></span></p>
        <p>Views/year: <span id="yearlyViews"></span></p>
      </div>
    </div><!-- Chart -->
<div class="mt-8">
  <canvas id="earningsChart"></canvas>
</div>

  </div>  <!-- Content Below Result -->  <section class="max-w-4xl mx-auto mt-12 text-center">
    <h2 class="text-2xl font-bold my-6">üìå What Influences YouTube Earnings?</h2>
    <p>Content goes here.</p>
    <h2 class="text-2xl font-bold my-6">üìä Understanding RPM and CPM</h2>
    <p>Content goes here.</p>
    <h2 class="text-2xl font-bold my-6">üí° Tips to Increase Your Revenue</h2>
    <p>Content goes here.</p>
    <h2 class="text-2xl font-bold my-6">üåç Global Audience vs Local Views</h2>
    <p>Content goes here.</p>
  </section>  <!-- Footer -->  <footer class="mt-16 bg-gray-100 text-center p-4 text-sm text-gray-600">
    &copy; 2025 YouTube Earnings Tool by Aditya Pal
  </footer>  <!-- Script -->  <script>
    const form = document.getElementById('calculatorForm');
    const resultSection = document.getElementById('resultSection');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const channelId = document.getElementById('channelId').value.trim();
      const viewsPerDay = parseFloat(document.getElementById('viewsPerDay').value || 0);
      const engagement = parseFloat(document.getElementById('engagementRate').value || 0);
      const rpm = parseFloat(document.getElementById('cpmCategory').value);

      try {
        const res = await fetch(`/api/earnings?channelId=${channelId}`);
        const data = await res.json();

        document.getElementById('channelThumb').src = data.thumbnail;
        document.getElementById('channelName').textContent = data.channelTitle;
        document.getElementById('totalViews').textContent = data.totalViews.toLocaleString();
        document.getElementById('subs').textContent = data.subscriberCount.toLocaleString();
        document.getElementById('videos').textContent = data.videoCount;
        document.getElementById('country').textContent = data.country;

        document.getElementById('revRange').textContent = `$${data.estimatedEarningsLow} - $${data.estimatedEarningsHigh}`;
        document.getElementById('avgEarning').textContent = `$${data.avgEarning}`;

        const views = viewsPerDay > 0 ? viewsPerDay : data.totalViews / 365;
        const daily = ((views / 1000) * rpm).toFixed(2);
        const monthly = (daily * 30).toFixed(2);
        const yearly = (daily * 365).toFixed(2);

        document.getElementById('dailyEarning').textContent = `$${daily}`;
        document.getElementById('monthlyEarning').textContent = `$${monthly}`;
        document.getElementById('yearlyEarning').textContent = `$${yearly}`;
        document.getElementById('monthlyViews').textContent = Math.round(views * 30).toLocaleString();
        document.getElementById('yearlyViews').textContent = Math.round(views * 365).toLocaleString();

        resultSection.classList.remove('hidden');

        // Chart
        const ctx = document.getElementById('earningsChart').getContext('2d');
        new Chart(ctx, {
          type: 'bar',
          data: {
            labels: ['Daily', 'Monthly', 'Yearly'],
            datasets: [{
              label: 'Estimated Earnings ($)',
              data: [daily, monthly, yearly],
              backgroundColor: ['#3B82F6', '#60A5FA', '#93C5FD']
            }]
          },
          options: {
            responsive: true,
            plugins: {
              legend: { display: false },
              tooltip: { enabled: true }
            }
          }
        });
      } catch (err) {
        alert('Failed to fetch channel data. Make sure Channel ID is correct.');
        console.error(err);
      }
    });
  </script></body>
</html>
